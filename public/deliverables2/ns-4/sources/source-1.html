


<!DOCTYPE html>
<html id="htmlId">
<head>
  <meta http-equiv="Content-Type" content="text/html;charset=UTF-8"> 
  <title>Coverage Report > Event</title>
  <style type="text/css">
    @import "../../css/coverage.css";
    @import "../../css/idea.min.css";
  </style>
  <script type="text/javascript" src="../../js/highlight.min.js"></script>
  <script type="text/javascript" src="../../js/highlightjs-line-numbers.min.js"></script>
</head>

<body>
<div class="content">
<div class="breadCrumbs">
Current scope:     <a href="../../index.html">all classes</a>
    <span class="separator">|</span>
    <a href="../index.html">io.github.glitchgobblers.events</a>
</div>

<h1>Coverage Summary for Class: Event (io.github.glitchgobblers.events)</h1>

<table class="coverageStats">

<tr>
  <th class="name">Class</th>
<th class="coverageStat 
">
  Method, %
</th>
<th class="coverageStat 
">
  Branch, %
</th>
<th class="coverageStat 
">
  Line, %
</th>
</tr>
<tr>
  <td class="name">Event</td>
<td class="coverageStat">
  <span class="percent">
    12.5%
  </span>
  <span class="absValue">
    (3/24)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    9.9%
  </span>
  <span class="absValue">
    (10/101)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    10.7%
  </span>
  <span class="absValue">
    (16/149)
  </span>
</td>
</tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$09VPJVm9</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$1Jb3yEtT</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$1SExMxOp</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$2RoA3Eeo</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$2vSO7nda</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$3M5ilb5D</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$4cg1oh7o</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$4lD4E1ys</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$5aGPHo3p</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$5mLpWuUG</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$6hK3LjFb</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$6Pvwo2Dl</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$71rLgt0F</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$7fA2TjjK</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$7RLDWYir</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$7YtnbkaI</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$8BPyYzl0</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$8Jy0pjay</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$8wx0G3yS</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$a0VOV0s4</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$Ac3aHPIW</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$alhrfV00</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$AoxEDslD</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$b5Rwo8dZ</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$BVgVPOdA</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$BxjGVu2f</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$clWc1Kxw</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$CNqtWA1l</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$cvA80i9F</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$cYeynN6X</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$D5HIVZp4</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$Daqv9MqR</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$dBOVLvui</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$dK8eeljJ</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$dsIwUvjS</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$eayjrbkl</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ee74Tqgj</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$eJQ1NQ4G</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ENhjqQBP</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$eu9LNKXe</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$EWNQFKOy</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$FDYAw9e9</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$fYbA4x3Q</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$gamDXJk7</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$gAqzBVqk</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$gE9kncE2</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$gP8lrf5D</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$GRNZM1YM</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$H4w6DJRI</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$HAJvlpp3</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$HwTKrNw7</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$i0ZAPVGZ</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$I6vd4tD8</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$iAfPbtEl</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$Icb1iyfq</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$iejPqsNU</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$IgCPJSB0</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$iGZiPuqk</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$klIGFfNY</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ksL80wsW</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$l8eI2OF2</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$lGDJ3MqW</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$MNhpCEE8</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$MQ23qfmu</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ng0ZjjgP</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$nMXafyGg</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$nsjmNp6G</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$nwvMoBXt</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$O9LHlrK4</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$oEUBVT0X</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ojtDSQsn</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ORSMQLx4</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$OXROgsUN</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$p1wVp6LH</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$PPEicFpq</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$pvQfAt2U</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$qAvepxQw</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$QboNiriX</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$qUoestWG</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$R5oKvyXN</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$RlnjQT7k</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$rM9aTqGR</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$t50CgcUh</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$t7s5gvZG</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$tAAsiLMg</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$tgbQZVdx</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$tOEeWrUA</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$u8Bipd5W</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$ud0bb1rP</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$UjY8Hj4h</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$UtNvnWBj</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$uTumkupF</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$V9BUOG7Q</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$vfyLvyXQ</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$vUSiLkzr</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$WC2EaF8D</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$WDJA9kLU</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$wLeVlJBX</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$wZKp8ESY</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$X0B1ckpN</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$xftzXQGe</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$xOz1jmMI</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$xqsikl4N</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$y0aZmGVx</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$y6v1yUr8</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$yIqHBwqQ</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$YTZ2DGHS</td>
  </tr>
  <tr>
    <td class="name">Event$MockitoMock$vJ43tURL$auxiliary$zscLxjIM</td>
  </tr>
  <tr>
    <td class="name">Event$ParsedEventProps</td>
  </tr>
<tr>
  <td class="name"><strong>Total</strong></td>
<td class="coverageStat">
  <span class="percent">
    12.5%
  </span>
  <span class="absValue">
    (3/24)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    9.9%
  </span>
  <span class="absValue">
    (10/101)
  </span>
</td>
<td class="coverageStat">
  <span class="percent">
    10.7%
  </span>
  <span class="absValue">
    (16/149)
  </span>
</td>
</tr>
</table>

<br/>
<br/>


<pre>
<code class="sourceCode" id="sourceCode">&nbsp;package io.github.glitchgobblers.events;
&nbsp;
&nbsp;import com.badlogic.gdx.graphics.Texture;
&nbsp;import com.badlogic.gdx.graphics.g2d.SpriteBatch;
&nbsp;import com.badlogic.gdx.maps.MapObject;
&nbsp;import com.badlogic.gdx.maps.MapProperties;
&nbsp;import com.badlogic.gdx.math.Vector2;
&nbsp;import io.github.glitchgobblers.YettiGame;
&nbsp;import io.github.glitchgobblers.entities.Item;
&nbsp;import io.github.glitchgobblers.entities.Player;
&nbsp;import io.github.glitchgobblers.screens.GameScreen;
&nbsp;import io.github.glitchgobblers.screens.WinScreen;
&nbsp;import com.badlogic.gdx.Gdx;
&nbsp;import com.badlogic.gdx.audio.Sound;
&nbsp;
&nbsp;import java.util.Objects;
&nbsp;
&nbsp;public class Event extends Item {
<b class="nc">&nbsp;  private int counter = 0;</b>
&nbsp;  private final String eventId;
&nbsp;
&nbsp;  private final String interactionMessage;
&nbsp;  private final String lockedMessage;
&nbsp;  private final Texture interactionImage;
&nbsp;  private final Vector2 interactionPosition;
&nbsp;  private final Vector2 interactionSize;
&nbsp;
&nbsp;  private final int scoreModifier;
&nbsp;
<b class="nc">&nbsp;  private boolean used = false;</b>
&nbsp;
&nbsp;  private final boolean startsVisible;
&nbsp;  private final EventType eventType;
<b class="nc">&nbsp;  private boolean visible = true;</b>
<b class="nc">&nbsp;  private String key = null;</b>
<b class="nc">&nbsp;  private String lock = null;</b>
&nbsp;  private final boolean AlwaysLocked;
<b class="nc">&nbsp;  private boolean win = false;</b>
<b class="nc">&nbsp;  private Float speedMultiplier = null;</b>
<b class="nc">&nbsp;  private Float speedDuration = null;</b>
<b class="nc">&nbsp;  private Float barrierDuration = null;</b>
<b class="nc">&nbsp;  private float barrierTimeLeft = 0f;</b>
<b class="nc">&nbsp;  private boolean barrierCountingDown = false;</b>
&nbsp;  private Sound sfx;
&nbsp;  private String Audio;
<b class="nc">&nbsp;  private int lastInteraction = 300;</b>
&nbsp;  public Event(MapObject mapObject) {
<b class="nc">&nbsp;    this(mapObject, parseProperties(mapObject));</b>
&nbsp;  }
&nbsp;
&nbsp;  private Event(MapObject mapObject, ParsedEventProps props) {
<b class="nc">&nbsp;    super(new Texture(props.interactionImagePath), props.x, props.y, props.width, props.height, !props.visible, props.solid);</b>
&nbsp;
<b class="nc">&nbsp;    eventId = resolveEventId(mapObject, props.x, props.y);</b>
<b class="nc">&nbsp;    startsVisible = props.visible;</b>
<b class="nc">&nbsp;    visible = props.visible;</b>
<b class="nc">&nbsp;    interactionMessage = props.interactionMessage;</b>
<b class="nc">&nbsp;    eventType = props.eventType;</b>
&nbsp;
<b class="nc">&nbsp;    String lm = props.lockedMessage;</b>
<b class="nc">&nbsp;    lockedMessage = (lm != null) ? lm : &quot;This door is locked&quot;;</b>
&nbsp;
<b class="nc">&nbsp;    interactionImage = new Texture(props.interactionImagePath);</b>
&nbsp;
<b class="nc">&nbsp;    interactionPosition = new Vector2(props.x, props.y);</b>
<b class="nc">&nbsp;    interactionSize = new Vector2(props.width, props.height);</b>
&nbsp;
<b class="nc">&nbsp;    scoreModifier = props.scoreModifier;</b>
&nbsp;
<b class="nc">&nbsp;    Audio = props.Audio;</b>
<b class="nc">&nbsp;    if (Audio != null &amp;&amp; !Audio.isBlank()) {</b>
<b class="nc">&nbsp;      sfx = Gdx.audio.newSound(Gdx.files.internal(Audio));</b>
&nbsp;    }
&nbsp;
&nbsp;
<b class="nc">&nbsp;    if (props.key != null) {</b>
<b class="nc">&nbsp;      key = props.key;</b>
<b class="nc">&nbsp;      super.addKey(key);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    if (props.lock != null) {</b>
<b class="nc">&nbsp;      lock = props.lock;</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    win = props.win;</b>
&nbsp;
<b class="nc">&nbsp;    speedMultiplier = (props.speedMultiplier != 0f) ? props.speedMultiplier : null;</b>
<b class="nc">&nbsp;    speedDuration   = (props.speedDuration   != 0f) ? props.speedDuration   : null;</b>
<b class="nc">&nbsp;    barrierDuration = (props.barrierDuration != 0f) ? props.barrierDuration : null;</b>
<b class="nc">&nbsp;    AlwaysLocked = props.AlwaysLocked;</b>
&nbsp;
&nbsp;  }
&nbsp;
&nbsp;  @Override
&nbsp;  public void update(float delta) {
<b class="nc">&nbsp;    if (!barrierCountingDown) {</b>
&nbsp;      return;
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    barrierTimeLeft -= delta;</b>
&nbsp;
<b class="nc">&nbsp;    if (barrierTimeLeft &lt;= 0f) {</b>
<b class="nc">&nbsp;      barrierCountingDown = false;</b>
<b class="nc">&nbsp;      barrierTimeLeft = 0f;</b>
&nbsp;
<b class="nc">&nbsp;      super.setSolid(false);</b>
<b class="nc">&nbsp;      toggleVisibility();</b>
<b class="nc">&nbsp;      disable();</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;  // Consolidated &quot;scoreIncrement&quot; and &quot;scoreDecrement&quot; into single &quot;modifyScore&quot; method
&nbsp;  public void modifyScore(final YettiGame game) {
<b class="nc">&nbsp;    game.score += getScoreModifier();</b>
&nbsp;  }
&nbsp;
&nbsp;  public int getScoreModifier() {
<b class="nc">&nbsp;    return scoreModifier;</b>
&nbsp;  }
&nbsp;
&nbsp;  public String getEventId() {
<b class="nc">&nbsp;    return eventId;</b>
&nbsp;  }
&nbsp;
&nbsp;  public boolean isWinEvent() {
<b class="nc">&nbsp;    return win;</b>
&nbsp;  }
&nbsp;
&nbsp;  public boolean isHiddenEvent() {
<b class="nc">&nbsp;    return eventType == EventType.HIDDEN;</b>
&nbsp;  }
&nbsp;
&nbsp;  public boolean isPositiveEvent() {
<b class="nc">&nbsp;    return eventType == EventType.POSITIVE;</b>
&nbsp;  }
&nbsp;
&nbsp;  public boolean isNegativeEvent() {
<b class="nc">&nbsp;    return eventType == EventType.NEGATIVE;</b>
&nbsp;  }
&nbsp;
&nbsp;  public EventType getEventType() {
<b class="nc">&nbsp;    return eventType;</b>
&nbsp;  }
&nbsp;
&nbsp;  private void playSfx() {
<b class="pc">&nbsp;    if (sfx != null) sfx.play(1.0f);</b>
&nbsp;  }
&nbsp;
&nbsp;
&nbsp;  public void showInteractionMessage(GameScreen screen) {
<b class="nc">&nbsp;    if (interactionMessage != null &amp;&amp; !interactionMessage.isBlank()) {</b>
<b class="nc">&nbsp;      screen.spawnInteractionMessage(interactionMessage);</b>
&nbsp;    }
&nbsp;  }
&nbsp;
&nbsp;  @Override
&nbsp;  public void render(SpriteBatch batch) {
<b class="nc">&nbsp;    batch.draw(interactionImage, interactionPosition.x, interactionPosition.y, interactionSize.x, interactionSize.y);</b>
<b class="nc">&nbsp;    batch.end();</b>
&nbsp;  }
&nbsp;
&nbsp;  public int getCounter() {
<b class="nc">&nbsp;    return counter;</b>
&nbsp;  }
&nbsp;
&nbsp;  public void incrementCounter() {
<b class="nc">&nbsp;    this.counter += 1;</b>
&nbsp;  }
&nbsp;
&nbsp;  public boolean activate(final GameScreen screen, Player player, Item item, YettiGame game, int time) {
<b class="fc">&nbsp;      lastInteraction = time;</b>
<b class="pc">&nbsp;      if (win) {</b>
<b class="fc">&nbsp;      game.setScreen(new WinScreen(game, game.calculateFinalScore(), game.playerName));</b>
&nbsp;    }
&nbsp;
<b class="pc">&nbsp;    if (barrierDuration != null &amp;&amp; !used) {</b>
<b class="nc">&nbsp;      if (!barrierCountingDown) {</b>
<b class="nc">&nbsp;        barrierCountingDown = true;</b>
<b class="nc">&nbsp;        barrierTimeLeft = barrierDuration;</b>
&nbsp;
<b class="nc">&nbsp;        this.toggleVisibility();</b>
<b class="nc">&nbsp;        this.setSolid(true);</b>
<b class="nc">&nbsp;        super.setSolid(true);</b>
&nbsp;
<b class="nc">&nbsp;        screen.spawnInteractionMessage(interactionMessage);</b>
<b class="nc">&nbsp;        playSfx();</b>
&nbsp;      }
<b class="nc">&nbsp;      used = true;</b>
<b class="nc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
<b class="pc">&nbsp;    if (lock != null &amp;&amp; !player.hasKey(lock)) {</b>
<b class="nc">&nbsp;      if (Objects.equals(lock, &quot;Water&quot;)){</b>
<b class="nc">&nbsp;        if (!used) {</b>
<b class="nc">&nbsp;          used = true;</b>
<b class="nc">&nbsp;          this.makeVisible();</b>
<b class="nc">&nbsp;          screen.spawnInteractionMessage(lockedMessage);</b>
<b class="nc">&nbsp;          return true;</b>
&nbsp;        }
&nbsp;      }
<b class="nc">&nbsp;      screen.spawnInteractionMessage(lockedMessage);</b>
<b class="nc">&nbsp;      playSfx();</b>
<b class="nc">&nbsp;      return false;</b>
&nbsp;    }
&nbsp;
<b class="pc">&nbsp;    if (AlwaysLocked &amp;&amp; lock != null &amp;&amp; player.hasKey(lock)) {</b>
&nbsp;
<b class="nc">&nbsp;      if (!used) {</b>
<b class="nc">&nbsp;        used = true;</b>
<b class="nc">&nbsp;        if (interactionMessage != null &amp;&amp; !interactionMessage.isBlank()) {</b>
<b class="nc">&nbsp;          screen.spawnInteractionMessage(interactionMessage);</b>
<b class="nc">&nbsp;          playSfx();</b>
&nbsp;        }
<b class="nc">&nbsp;        return true;</b>
&nbsp;      }
<b class="nc">&nbsp;      if (interactionMessage != null &amp;&amp; !interactionMessage.isBlank()) {</b>
<b class="nc">&nbsp;        screen.spawnInteractionMessage(interactionMessage);</b>
&nbsp;      }
<b class="nc">&nbsp;      return false;</b>
&nbsp;    }
&nbsp;
<b class="pc">&nbsp;    if (!AlwaysLocked &amp;&amp; lock != null &amp;&amp; player.hasKey(lock)) {</b>
<b class="nc">&nbsp;      if (player.hasKey(lock)) {</b>
<b class="nc">&nbsp;        super.setSolid(false);</b>
<b class="nc">&nbsp;        this.setSolid(false);</b>
&nbsp;      }
&nbsp;    }
&nbsp;
<b class="pc">&nbsp;    if (!used) {</b>
<b class="fc">&nbsp;      used = true;</b>
<b class="fc">&nbsp;      this.toggleVisibility();</b>
<b class="pc">&nbsp;      if (interactionMessage != null &amp;&amp; !interactionMessage.isBlank()) {</b>
<b class="nc">&nbsp;        screen.spawnInteractionMessage(interactionMessage);</b>
&nbsp;      }
<b class="fc">&nbsp;      playSfx();</b>
&nbsp;
<b class="pc">&nbsp;      if (speedMultiplier != null &amp;&amp; speedDuration != null) {</b>
<b class="nc">&nbsp;        player.applySpeedBoost(speedMultiplier, speedDuration);</b>
&nbsp;      }
<b class="fc">&nbsp;      return true;</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    return false;</b>
&nbsp;  }
&nbsp;
&nbsp;  @Override
&nbsp;  public boolean isVisible() {
<b class="nc">&nbsp;    return visible;</b>
&nbsp;  }
&nbsp;
&nbsp;  private void toggleVisibility() {
<b class="fc">&nbsp;    visible = !visible;</b>
&nbsp;  }
&nbsp;
&nbsp;  private void makeVisible() {
<b class="nc">&nbsp;    visible = true;</b>
&nbsp;  }
&nbsp;
&nbsp;  private static ParsedEventProps parseProperties(MapObject mapObject) {
<b class="nc">&nbsp;    MapProperties properties = mapObject.getProperties();</b>
<b class="nc">&nbsp;    ParsedEventProps props = new ParsedEventProps();</b>
&nbsp;
<b class="nc">&nbsp;    props.x = properties.get(&quot;x&quot;, 0f, Float.class) / 48f;</b>
<b class="nc">&nbsp;    props.y = properties.get(&quot;y&quot;, 0f, Float.class) / 48f;</b>
&nbsp;
<b class="nc">&nbsp;    props.width = properties.get(&quot;width&quot;, 0f, Float.class) / 48f;</b>
<b class="nc">&nbsp;    props.height = properties.get(&quot;height&quot;, 0f, Float.class) / 48f;</b>
&nbsp;
<b class="nc">&nbsp;    props.visible = properties.get(&quot;visible&quot;, true, Boolean.class);</b>
&nbsp;
<b class="nc">&nbsp;    props.solid = properties.get(&quot;solid&quot;, false, Boolean.class);</b>
&nbsp;
<b class="nc">&nbsp;    props.interactionImagePath = properties.get(&quot;interactionImagePath&quot;, &quot;&quot;, String.class);</b>
<b class="nc">&nbsp;    props.interactionMessage = properties.get(&quot;interactionMessage&quot;, &quot;&quot;, String.class);</b>
<b class="nc">&nbsp;    props.lockedMessage = properties.get(&quot;lockedMessage&quot;, &quot;&quot;, String.class);</b>
<b class="nc">&nbsp;    props.AlwaysLocked = properties.get(&quot;AlwaysLocked&quot;, false, Boolean.class);</b>
&nbsp;
<b class="nc">&nbsp;    props.scoreModifier = properties.get(&quot;scoreModifier&quot;, 0, Integer.class);</b>
&nbsp;
<b class="nc">&nbsp;    props.key = properties.containsKey(&quot;key&quot;) ? properties.get(&quot;key&quot;, String.class) : null;</b>
<b class="nc">&nbsp;    props.lock = properties.containsKey(&quot;lock&quot;) ? properties.get(&quot;lock&quot;, String.class) : null;</b>
<b class="nc">&nbsp;    props.Audio = properties.get(&quot;Audio&quot;, &quot;&quot;, String.class);</b>
&nbsp;
<b class="nc">&nbsp;    props.win = properties.get(&quot;win&quot;, false, Boolean.class);</b>
&nbsp;
<b class="nc">&nbsp;    String rawType = properties.get(&quot;eventType&quot;, &quot;&quot;, String.class);</b>
<b class="nc">&nbsp;    props.eventType = parseEventType(rawType, props.visible, props.scoreModifier);</b>
&nbsp;
<b class="nc">&nbsp;    if (properties.containsKey(&quot;speedMultiplier&quot;)) {</b>
<b class="nc">&nbsp;      props.speedMultiplier = properties.get(&quot;speedMultiplier&quot;, Float.class);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    if (properties.containsKey(&quot;speedDuration&quot;)) {</b>
<b class="nc">&nbsp;      props.speedDuration = (Float) properties.get(&quot;speedDuration&quot;);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    if (properties.containsKey(&quot;barrierDuration&quot;)) {</b>
<b class="nc">&nbsp;      props.barrierDuration = (Float) properties.get(&quot;barrierDuration&quot;);</b>
&nbsp;    }
&nbsp;
<b class="nc">&nbsp;    return props;</b>
&nbsp;  }
&nbsp;
&nbsp;  private String resolveEventId(MapObject mapObject, float x, float y) {
<b class="nc">&nbsp;    String name = mapObject.getName();</b>
<b class="nc">&nbsp;    String base = (name != null &amp;&amp; !name.isBlank()) ? name : &quot;event&quot;;</b>
<b class="nc">&nbsp;    return base + &quot;@&quot; + x + &quot;,&quot; + y;</b>
&nbsp;  }
&nbsp;
&nbsp;    public int getLastInteraction() {
<b class="nc">&nbsp;      return lastInteraction;</b>
&nbsp;    }
&nbsp;
&nbsp;    private static class ParsedEventProps {
&nbsp;    float x;
&nbsp;    float y;
&nbsp;    float width;
&nbsp;    float height;
&nbsp;    boolean visible;
&nbsp;    boolean solid;
&nbsp;    String interactionImagePath;
&nbsp;    String interactionMessage;
&nbsp;    String lockedMessage;
&nbsp;    int scoreModifier;
&nbsp;    String key;
&nbsp;    String lock;
&nbsp;    boolean win;
&nbsp;    float speedMultiplier;
&nbsp;    float speedDuration;
&nbsp;    float barrierDuration;
&nbsp;    EventType eventType;
&nbsp;    boolean AlwaysLocked;
&nbsp;    String Audio;
&nbsp;  }
&nbsp;  private static EventType parseEventType(String rawType, boolean visible, int scoreModifier) {
<b class="nc">&nbsp;    if (rawType != null) {</b>
<b class="nc">&nbsp;      String t = rawType.trim().toLowerCase();</b>
<b class="nc">&nbsp;      switch (t) {</b>
<b class="nc">&nbsp;        case &quot;positive&quot;: return EventType.POSITIVE;</b>
<b class="nc">&nbsp;        case &quot;negative&quot;: return EventType.NEGATIVE;</b>
<b class="nc">&nbsp;        case &quot;hidden&quot;:   return EventType.HIDDEN;</b>
&nbsp;      }
&nbsp;    }
<b class="nc">&nbsp;    return null;</b>
&nbsp;  }
&nbsp;}
</code>
</pre>
</div>

<script type="text/javascript">
(function() {
    var msie = false, msie9 = false;
    /*@cc_on
      msie = true;
      @if (@_jscript_version >= 9)
        msie9 = true;
      @end
    @*/

    if (!msie || msie && msie9) {
      hljs.highlightAll()
      hljs.initLineNumbersOnLoad();
    }
})();
</script>

<div class="footer">
    
    <div style="float:right;">generated on 2026-01-02 16:28</div>
</div>
</body>
</html>
